#!/usr/bin/env python2
import sys
import argparse
import sldb.common.config as config

if __name__ == '__main__':
    parser = config.get_base_arg_parser('Collapses sequences in samples,'
                                        'ignoring Ns')
    parser.add_argument('--samples', nargs='+', type=int,
                        help='Limit collapsing to certain samples')
    args = parser.parse_args()

    session = config.init_db(args.master_db_config, args.data_db_config)

    from sldb.identification.collapse import run_collapse
    sys.exit(run_collapse(session, args))
