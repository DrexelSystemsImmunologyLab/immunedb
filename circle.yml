dependencies:
    pre:
        - sudo apt-get update
        - sudo apt-get install python-pip python-dev build-essential
        - pip install --upgrade numpy
        - pip install coverage
        - sudo apt-get install libatlas-base-dev gfortran
        - git clone --recursive https://github.com/noporpoise/seq-align ~/seq-align
        - cd ~/seq-align && make

test:
    override:
        - echo "innodb_file_per_table = 1" | sudo tee -a /etc/mysql/my.cnf
        - echo "innodb_large_prefix = 1" | sudo tee -a /etc/mysql/my.cnf
        - echo "innodb_file_format = Barracuda" | sudo tee -a /etc/mysql/my.cnf
        - sudo service mysql restart
        - LL_PATH=~/seq-align/bin/needleman_wunsch ./tests/run.sh
